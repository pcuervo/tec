/*! TEC 2015-04-23 */
!function(a){"use strict";function b(a){return(a||"").toLowerCase()}var c="2.1.6";a.fn.cycle=function(c){var d;return 0!==this.length||a.isReady?this.each(function(){var d,e,f,g,h=a(this),i=a.fn.cycle.log;if(!h.data("cycle.opts")){(h.data("cycle-log")===!1||c&&c.log===!1||e&&e.log===!1)&&(i=a.noop),i("--c2 init--"),d=h.data();for(var j in d)d.hasOwnProperty(j)&&/^cycle[A-Z]+/.test(j)&&(g=d[j],f=j.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),i(f+":",g,"("+typeof g+")"),d[f]=g);e=a.extend({},a.fn.cycle.defaults,d,c||{}),e.timeoutId=0,e.paused=e.paused||!1,e.container=h,e._maxZ=e.maxZ,e.API=a.extend({_container:h},a.fn.cycle.API),e.API.log=i,e.API.trigger=function(a,b){return e.container.trigger(a,b),e.API},h.data("cycle.opts",e),h.data("cycle.API",e.API),e.API.trigger("cycle-bootstrap",[e,e.API]),e.API.addInitialSlides(),e.API.preInitSlideshow(),e.slides.length&&e.API.initSlideshow()}}):(d={s:this.selector,c:this.context},a.fn.cycle.log("requeuing slideshow (dom not ready)"),a(function(){a(d.s,d.c).cycle(c)}),this)},a.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var b=this.opts(),c=b.slides;b.slideCount=0,b.slides=a(),c=c.jquery?c:b.container.find(c),b.random&&c.sort(function(){return Math.random()-.5}),b.API.add(c)},preInitSlideshow:function(){var b=this.opts();b.API.trigger("cycle-pre-initialize",[b]);var c=a.fn.cycle.transitions[b.fx];c&&a.isFunction(c.preInit)&&c.preInit(b),b._preInitialized=!0},postInitSlideshow:function(){var b=this.opts();b.API.trigger("cycle-post-initialize",[b]);var c=a.fn.cycle.transitions[b.fx];c&&a.isFunction(c.postInit)&&c.postInit(b)},initSlideshow:function(){var b,c=this.opts(),d=c.container;c.API.calcFirstSlide(),"static"==c.container.css("position")&&c.container.css("position","relative"),a(c.slides[c.currSlide]).css({opacity:1,display:"block",visibility:"visible"}),c.API.stackSlides(c.slides[c.currSlide],c.slides[c.nextSlide],!c.reverse),c.pauseOnHover&&(c.pauseOnHover!==!0&&(d=a(c.pauseOnHover)),d.hover(function(){c.API.pause(!0)},function(){c.API.resume(!0)})),c.timeout&&(b=c.API.getSlideOpts(c.currSlide),c.API.queueTransition(b,b.timeout+c.delay)),c._initialized=!0,c.API.updateView(!0),c.API.trigger("cycle-initialized",[c]),c.API.postInitSlideshow()},pause:function(b){var c=this.opts(),d=c.API.getSlideOpts(),e=c.hoverPaused||c.paused;b?c.hoverPaused=!0:c.paused=!0,e||(c.container.addClass("cycle-paused"),c.API.trigger("cycle-paused",[c]).log("cycle-paused"),d.timeout&&(clearTimeout(c.timeoutId),c.timeoutId=0,c._remainingTimeout-=a.now()-c._lastQueue,(c._remainingTimeout<0||isNaN(c._remainingTimeout))&&(c._remainingTimeout=void 0)))},resume:function(a){var b=this.opts(),c=!b.hoverPaused&&!b.paused;a?b.hoverPaused=!1:b.paused=!1,c||(b.container.removeClass("cycle-paused"),0===b.slides.filter(":animated").length&&b.API.queueTransition(b.API.getSlideOpts(),b._remainingTimeout),b.API.trigger("cycle-resumed",[b,b._remainingTimeout]).log("cycle-resumed"))},add:function(b,c){var d,e=this.opts(),f=e.slideCount,g=!1;"string"==a.type(b)&&(b=a.trim(b)),a(b).each(function(){var b,d=a(this);c?e.container.prepend(d):e.container.append(d),e.slideCount++,b=e.API.buildSlideOpts(d),e.slides=c?a(d).add(e.slides):e.slides.add(d),e.API.initSlide(b,d,--e._maxZ),d.data("cycle.opts",b),e.API.trigger("cycle-slide-added",[e,b,d])}),e.API.updateView(!0),g=e._preInitialized&&2>f&&e.slideCount>=1,g&&(e._initialized?e.timeout&&(d=e.slides.length,e.nextSlide=e.reverse?d-1:1,e.timeoutId||e.API.queueTransition(e)):e.API.initSlideshow())},calcFirstSlide:function(){var a,b=this.opts();a=parseInt(b.startingSlide||0,10),(a>=b.slides.length||0>a)&&(a=0),b.currSlide=a,b.reverse?(b.nextSlide=a-1,b.nextSlide<0&&(b.nextSlide=b.slides.length-1)):(b.nextSlide=a+1,b.nextSlide==b.slides.length&&(b.nextSlide=0))},calcNextSlide:function(){var a,b=this.opts();b.reverse?(a=b.nextSlide-1<0,b.nextSlide=a?b.slideCount-1:b.nextSlide-1,b.currSlide=a?0:b.nextSlide+1):(a=b.nextSlide+1==b.slides.length,b.nextSlide=a?0:b.nextSlide+1,b.currSlide=a?b.slides.length-1:b.nextSlide-1)},calcTx:function(b,c){var d,e=b;return e._tempFx?d=a.fn.cycle.transitions[e._tempFx]:c&&e.manualFx&&(d=a.fn.cycle.transitions[e.manualFx]),d||(d=a.fn.cycle.transitions[e.fx]),e._tempFx=null,this.opts()._tempFx=null,d||(d=a.fn.cycle.transitions.fade,e.API.log('Transition "'+e.fx+'" not found.  Using fade.')),d},prepareTx:function(a,b){var c,d,e,f,g,h=this.opts();return h.slideCount<2?void(h.timeoutId=0):(!a||h.busy&&!h.manualTrump||(h.API.stopTransition(),h.busy=!1,clearTimeout(h.timeoutId),h.timeoutId=0),void(h.busy||(0!==h.timeoutId||a)&&(d=h.slides[h.currSlide],e=h.slides[h.nextSlide],f=h.API.getSlideOpts(h.nextSlide),g=h.API.calcTx(f,a),h._tx=g,a&&void 0!==f.manualSpeed&&(f.speed=f.manualSpeed),h.nextSlide!=h.currSlide&&(a||!h.paused&&!h.hoverPaused&&h.timeout)?(h.API.trigger("cycle-before",[f,d,e,b]),g.before&&g.before(f,d,e,b),c=function(){h.busy=!1,h.container.data("cycle.opts")&&(g.after&&g.after(f,d,e,b),h.API.trigger("cycle-after",[f,d,e,b]),h.API.queueTransition(f),h.API.updateView(!0))},h.busy=!0,g.transition?g.transition(f,d,e,b,c):h.API.doTransition(f,d,e,b,c),h.API.calcNextSlide(),h.API.updateView()):h.API.queueTransition(f))))},doTransition:function(b,c,d,e,f){var g=b,h=a(c),i=a(d),j=function(){i.animate(g.animIn||{opacity:1},g.speed,g.easeIn||g.easing,f)};i.css(g.cssBefore||{}),h.animate(g.animOut||{},g.speed,g.easeOut||g.easing,function(){h.css(g.cssAfter||{}),g.sync||j()}),g.sync&&j()},queueTransition:function(b,c){var d=this.opts(),e=void 0!==c?c:b.timeout;return 0===d.nextSlide&&0===--d.loop?(d.API.log("terminating; loop=0"),d.timeout=0,e?setTimeout(function(){d.API.trigger("cycle-finished",[d])},e):d.API.trigger("cycle-finished",[d]),void(d.nextSlide=d.currSlide)):void 0!==d.continueAuto&&(d.continueAuto===!1||a.isFunction(d.continueAuto)&&d.continueAuto()===!1)?(d.API.log("terminating automatic transitions"),d.timeout=0,void(d.timeoutId&&clearTimeout(d.timeoutId))):void(e&&(d._lastQueue=a.now(),void 0===c&&(d._remainingTimeout=b.timeout),d.paused||d.hoverPaused||(d.timeoutId=setTimeout(function(){d.API.prepareTx(!1,!d.reverse)},e))))},stopTransition:function(){var a=this.opts();a.slides.filter(":animated").length&&(a.slides.stop(!1,!0),a.API.trigger("cycle-transition-stopped",[a])),a._tx&&a._tx.stopTransition&&a._tx.stopTransition(a)},advanceSlide:function(a){var b=this.opts();return clearTimeout(b.timeoutId),b.timeoutId=0,b.nextSlide=b.currSlide+a,b.nextSlide<0?b.nextSlide=b.slides.length-1:b.nextSlide>=b.slides.length&&(b.nextSlide=0),b.API.prepareTx(!0,a>=0),!1},buildSlideOpts:function(c){var d,e,f=this.opts(),g=c.data()||{};for(var h in g)g.hasOwnProperty(h)&&/^cycle[A-Z]+/.test(h)&&(d=g[h],e=h.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),f.API.log("["+(f.slideCount-1)+"]",e+":",d,"("+typeof d+")"),g[e]=d);g=a.extend({},a.fn.cycle.defaults,f,g),g.slideNum=f.slideCount;try{delete g.API,delete g.slideCount,delete g.currSlide,delete g.nextSlide,delete g.slides}catch(i){}return g},getSlideOpts:function(b){var c=this.opts();void 0===b&&(b=c.currSlide);var d=c.slides[b],e=a(d).data("cycle.opts");return a.extend({},c,e)},initSlide:function(b,c,d){var e=this.opts();c.css(b.slideCss||{}),d>0&&c.css("zIndex",d),isNaN(b.speed)&&(b.speed=a.fx.speeds[b.speed]||a.fx.speeds._default),b.sync||(b.speed=b.speed/2),c.addClass(e.slideClass)},updateView:function(a,b){var c=this.opts();if(c._initialized){var d=c.API.getSlideOpts(),e=c.slides[c.currSlide];!a&&b!==!0&&(c.API.trigger("cycle-update-view-before",[c,d,e]),c.updateView<0)||(c.slideActiveClass&&c.slides.removeClass(c.slideActiveClass).eq(c.currSlide).addClass(c.slideActiveClass),a&&c.hideNonActive&&c.slides.filter(":not(."+c.slideActiveClass+")").css("visibility","hidden"),0===c.updateView&&setTimeout(function(){c.API.trigger("cycle-update-view",[c,d,e,a])},d.speed/(c.sync?2:1)),0!==c.updateView&&c.API.trigger("cycle-update-view",[c,d,e,a]),a&&c.API.trigger("cycle-update-view-after",[c,d,e]))}},getComponent:function(b){var c=this.opts(),d=c[b];return"string"==typeof d?/^\s*[\>|\+|~]/.test(d)?c.container.find(d):a(d):d.jquery?d:a(d)},stackSlides:function(b,c,d){var e=this.opts();b||(b=e.slides[e.currSlide],c=e.slides[e.nextSlide],d=!e.reverse),a(b).css("zIndex",e.maxZ);var f,g=e.maxZ-2,h=e.slideCount;if(d){for(f=e.currSlide+1;h>f;f++)a(e.slides[f]).css("zIndex",g--);for(f=0;f<e.currSlide;f++)a(e.slides[f]).css("zIndex",g--)}else{for(f=e.currSlide-1;f>=0;f--)a(e.slides[f]).css("zIndex",g--);for(f=h-1;f>e.currSlide;f--)a(e.slides[f]).css("zIndex",g--)}a(c).css("zIndex",e.maxZ-1)},getSlideIndex:function(a){return this.opts().slides.index(a)}},a.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},a.fn.cycle.version=function(){return"Cycle2: "+c},a.fn.cycle.transitions={custom:{},none:{before:function(a,b,c,d){a.API.stackSlides(c,b,d),a.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(b,c,d,e){var f=b.API.getSlideOpts(b.nextSlide).slideCss||{};b.API.stackSlides(c,d,e),b.cssBefore=a.extend(f,{opacity:0,visibility:"visible",display:"block"}),b.animIn={opacity:1},b.animOut={opacity:0}}},fadeout:{before:function(b,c,d,e){var f=b.API.getSlideOpts(b.nextSlide).slideCss||{};b.API.stackSlides(c,d,e),b.cssBefore=a.extend(f,{opacity:1,visibility:"visible",display:"block"}),b.animOut={opacity:0}}},scrollHorz:{before:function(a,b,c,d){a.API.stackSlides(b,c,d);var e=a.container.css("overflow","hidden").width();a.cssBefore={left:d?e:-e,top:0,opacity:1,visibility:"visible",display:"block"},a.cssAfter={zIndex:a._maxZ-2,left:0},a.animIn={left:0},a.animOut={left:d?-e:e}}}},a.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:0},a(document).ready(function(){a(a.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),function(a){"use strict";function b(b,d){var e,f,g,h=d.autoHeight;if("container"==h)f=a(d.slides[d.currSlide]).outerHeight(),d.container.height(f);else if(d._autoHeightRatio)d.container.height(d.container.width()/d._autoHeightRatio);else if("calc"===h||"number"==a.type(h)&&h>=0){if(g="calc"===h?c(b,d):h>=d.slides.length?0:h,g==d._sentinelIndex)return;d._sentinelIndex=g,d._sentinel&&d._sentinel.remove(),e=a(d.slides[g].cloneNode(!0)),e.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),e.css({position:"static",visibility:"hidden",display:"block"}).prependTo(d.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),e.find("*").css("visibility","hidden"),d._sentinel=e}}function c(b,c){var d=0,e=-1;return c.slides.each(function(b){var c=a(this).height();c>e&&(e=c,d=b)}),d}function d(b,c,d,e){var f=a(e).outerHeight();c.container.animate({height:f},c.autoHeightSpeed,c.autoHeightEasing)}function e(c,f){f._autoHeightOnResize&&(a(window).off("resize orientationchange",f._autoHeightOnResize),f._autoHeightOnResize=null),f.container.off("cycle-slide-added cycle-slide-removed",b),f.container.off("cycle-destroyed",e),f.container.off("cycle-before",d),f._sentinel&&(f._sentinel.remove(),f._sentinel=null)}a.extend(a.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),a(document).on("cycle-initialized",function(c,f){function g(){b(c,f)}var h,i=f.autoHeight,j=a.type(i),k=null;("string"===j||"number"===j)&&(f.container.on("cycle-slide-added cycle-slide-removed",b),f.container.on("cycle-destroyed",e),"container"==i?f.container.on("cycle-before",d):"string"===j&&/\d+\:\d+/.test(i)&&(h=i.match(/(\d+)\:(\d+)/),h=h[1]/h[2],f._autoHeightRatio=h),"number"!==j&&(f._autoHeightOnResize=function(){clearTimeout(k),k=setTimeout(g,50)},a(window).on("resize orientationchange",f._autoHeightOnResize)),setTimeout(g,30))})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),a(document).on("cycle-update-view",function(b,c,d,e){"caption"===c.captionModule&&a.each(["caption","overlay"],function(){var a=this,b=d[a+"Template"],f=c.API.getComponent(a);f.length&&b?(f.html(c.API.tmpl(b,d,c,e)),f.show()):f.hide()})}),a(document).on("cycle-destroyed",function(b,c){var d;a.each(["caption","overlay"],function(){var a=this,b=c[a+"Template"];c[a]&&b&&(d=c.API.getComponent("caption"),d.empty())})})}(jQuery),function(a){"use strict";var b=a.fn.cycle;a.fn.cycle=function(c){var d,e,f,g=a.makeArray(arguments);return"number"==a.type(c)?this.cycle("goto",c):"string"==a.type(c)?this.each(function(){var h;return d=c,f=a(this).data("cycle.opts"),void 0===f?void b.log('slideshow must be initialized before sending commands; "'+d+'" ignored'):(d="goto"==d?"jump":d,e=f.API[d],a.isFunction(e)?(h=a.makeArray(g),h.shift(),e.apply(f.API,h)):void b.log("unknown command: ",d))}):b.apply(this,arguments)},a.extend(a.fn.cycle,b),a.extend(b.API,{next:function(){var a=this.opts();if(!a.busy||a.manualTrump){var b=a.reverse?-1:1;a.allowWrap===!1&&a.currSlide+b>=a.slideCount||(a.API.advanceSlide(b),a.API.trigger("cycle-next",[a]).log("cycle-next"))}},prev:function(){var a=this.opts();if(!a.busy||a.manualTrump){var b=a.reverse?1:-1;a.allowWrap===!1&&a.currSlide+b<0||(a.API.advanceSlide(b),a.API.trigger("cycle-prev",[a]).log("cycle-prev"))}},destroy:function(){this.stop();var b=this.opts(),c=a.isFunction(a._data)?a._data:a.noop;clearTimeout(b.timeoutId),b.timeoutId=0,b.API.stop(),b.API.trigger("cycle-destroyed",[b]).log("cycle-destroyed"),b.container.removeData(),c(b.container[0],"parsedAttrs",!1),b.retainStylesOnDestroy||(b.container.removeAttr("style"),b.slides.removeAttr("style"),b.slides.removeClass(b.slideActiveClass)),b.slides.each(function(){var d=a(this);d.removeData(),d.removeClass(b.slideClass),c(this,"parsedAttrs",!1)})},jump:function(a,b){var c,d=this.opts();if(!d.busy||d.manualTrump){var e=parseInt(a,10);if(isNaN(e)||0>e||e>=d.slides.length)return void d.API.log("goto: invalid slide index: "+e);if(e==d.currSlide)return void d.API.log("goto: skipping, already on slide",e);d.nextSlide=e,clearTimeout(d.timeoutId),d.timeoutId=0,d.API.log("goto: ",e," (zero-index)"),c=d.currSlide<d.nextSlide,d._tempFx=b,d.API.prepareTx(!0,c)}},stop:function(){var b=this.opts(),c=b.container;clearTimeout(b.timeoutId),b.timeoutId=0,b.API.stopTransition(),b.pauseOnHover&&(b.pauseOnHover!==!0&&(c=a(b.pauseOnHover)),c.off("mouseenter mouseleave")),b.API.trigger("cycle-stopped",[b]).log("cycle-stopped")},reinit:function(){var a=this.opts();a.API.destroy(),a.container.cycle()},remove:function(b){for(var c,d,e=this.opts(),f=[],g=1,h=0;h<e.slides.length;h++)c=e.slides[h],h==b?d=c:(f.push(c),a(c).data("cycle.opts").slideNum=g,g++);d&&(e.slides=a(f),e.slideCount--,a(d).remove(),b==e.currSlide?e.API.advanceSlide(1):b<e.currSlide?e.currSlide--:e.currSlide++,e.API.trigger("cycle-slide-removed",[e,b,d]).log("cycle-slide-removed"),e.API.updateView())}}),a(document).on("click.cycle","[data-cycle-cmd]",function(b){b.preventDefault();var c=a(this),d=c.data("cycle-cmd"),e=c.data("cycle-context")||".cycle-slideshow";a(e).cycle(d,c.data("cycle-arg"))})}(jQuery),function(a){"use strict";function b(b,c){var d;return b._hashFence?void(b._hashFence=!1):(d=window.location.hash.substring(1),void b.slides.each(function(e){if(a(this).data("cycle-hash")==d){if(c===!0)b.startingSlide=e;else{var f=b.currSlide<e;b.nextSlide=e,b.API.prepareTx(!0,f)}return!1}}))}a(document).on("cycle-pre-initialize",function(c,d){b(d,!0),d._onHashChange=function(){b(d,!1)},a(window).on("hashchange",d._onHashChange)}),a(document).on("cycle-update-view",function(a,b,c){c.hash&&"#"+c.hash!=window.location.hash&&(b._hashFence=!0,window.location.hash=c.hash)}),a(document).on("cycle-destroyed",function(b,c){c._onHashChange&&a(window).off("hashchange",c._onHashChange)})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{loader:!1}),a(document).on("cycle-bootstrap",function(b,c){function d(b,d){function f(b){var f;"wait"==c.loader?(h.push(b),0===j&&(h.sort(g),e.apply(c.API,[h,d]),c.container.removeClass("cycle-loading"))):(f=a(c.slides[c.currSlide]),e.apply(c.API,[b,d]),f.show(),c.container.removeClass("cycle-loading"))}function g(a,b){return a.data("index")-b.data("index")}var h=[];if("string"==a.type(b))b=a.trim(b);else if("array"===a.type(b))for(var i=0;i<b.length;i++)b[i]=a(b[i])[0];b=a(b);var j=b.length;j&&(b.css("visibility","hidden").appendTo("body").each(function(b){function g(){0===--i&&(--j,f(k))}var i=0,k=a(this),l=k.is("img")?k:k.find("img");return k.data("index",b),l=l.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),l.length?(i=l.length,void l.each(function(){this.complete?g():a(this).load(function(){g()}).on("error",function(){0===--i&&(c.API.log("slide skipped; img not loaded:",this.src),0===--j&&"wait"==c.loader&&e.apply(c.API,[h,d]))})})):(--j,void h.push(k))}),j&&c.container.addClass("cycle-loading"))}var e;c.loader&&(e=c.API.add,c.API.add=d)})}(jQuery),function(a){"use strict";function b(b,c,d){var e,f=b.API.getComponent("pager");f.each(function(){var f=a(this);if(c.pagerTemplate){var g=b.API.tmpl(c.pagerTemplate,c,b,d[0]);e=a(g).appendTo(f)}else e=f.children().eq(b.slideCount-1);e.on(b.pagerEvent,function(a){b.pagerEventBubble||a.preventDefault(),b.API.page(f,a.currentTarget)})})}function c(a,b){var c=this.opts();if(!c.busy||c.manualTrump){var d=a.children().index(b),e=d,f=c.currSlide<e;c.currSlide!=e&&(c.nextSlide=e,c._tempFx=c.pagerFx,c.API.prepareTx(!0,f),c.API.trigger("cycle-pager-activated",[c,a,b]))}}a.extend(a.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:void 0,pagerTemplate:"<span>&bull;</span>"}),a(document).on("cycle-bootstrap",function(a,c,d){d.buildPagerLink=b}),a(document).on("cycle-slide-added",function(a,b,d,e){b.pager&&(b.API.buildPagerLink(b,d,e),b.API.page=c)}),a(document).on("cycle-slide-removed",function(b,c,d){if(c.pager){var e=c.API.getComponent("pager");e.each(function(){var b=a(this);a(b.children()[d]).remove()})}}),a(document).on("cycle-update-view",function(b,c){var d;c.pager&&(d=c.API.getComponent("pager"),d.each(function(){a(this).children().removeClass(c.pagerActiveClass).eq(c.currSlide).addClass(c.pagerActiveClass)}))}),a(document).on("cycle-destroyed",function(a,b){var c=b.API.getComponent("pager");c&&(c.children().off(b.pagerEvent),b.pagerTemplate&&c.empty())})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),a(document).on("cycle-initialized",function(a,b){if(b.API.getComponent("next").on(b.nextEvent,function(a){a.preventDefault(),b.API.next()}),b.API.getComponent("prev").on(b.prevEvent,function(a){a.preventDefault(),b.API.prev()}),b.swipe){var c=b.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",d=b.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";b.container.on(c,function(){b._tempFx=b.swipeFx,b.API.next()}),b.container.on(d,function(){b._tempFx=b.swipeFx,b.API.prev()})}}),a(document).on("cycle-update-view",function(a,b){if(!b.allowWrap){var c=b.disabledClass,d=b.API.getComponent("next"),e=b.API.getComponent("prev"),f=b._prevBoundry||0,g=void 0!==b._nextBoundry?b._nextBoundry:b.slideCount-1;b.currSlide==g?d.addClass(c).prop("disabled",!0):d.removeClass(c).prop("disabled",!1),b.currSlide===f?e.addClass(c).prop("disabled",!0):e.removeClass(c).prop("disabled",!1)}}),a(document).on("cycle-destroyed",function(a,b){b.API.getComponent("prev").off(b.nextEvent),b.API.getComponent("next").off(b.prevEvent),b.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{progressive:!1}),a(document).on("cycle-pre-initialize",function(b,c){if(c.progressive){var d,e,f=c.API,g=f.next,h=f.prev,i=f.prepareTx,j=a.type(c.progressive);if("array"==j)d=c.progressive;else if(a.isFunction(c.progressive))d=c.progressive(c);else if("string"==j){if(e=a(c.progressive),d=a.trim(e.html()),!d)return;if(/^(\[)/.test(d))try{d=a.parseJSON(d)}catch(k){return void f.log("error parsing progressive slides",k)}else d=d.split(new RegExp(e.data("cycle-split")||"\n")),d[d.length-1]||d.pop()}i&&(f.prepareTx=function(a,b){var e,f;return a||0===d.length?void i.apply(c.API,[a,b]):void(b&&c.currSlide==c.slideCount-1?(f=d[0],d=d.slice(1),c.container.one("cycle-slide-added",function(a,b){setTimeout(function(){b.API.advanceSlide(1)},50)}),c.API.add(f)):b||0!==c.currSlide?i.apply(c.API,[a,b]):(e=d.length-1,f=d[e],d=d.slice(0,e),c.container.one("cycle-slide-added",function(a,b){setTimeout(function(){b.currSlide=1,b.API.advanceSlide(-1)},50)}),c.API.add(f,!0)))}),g&&(f.next=function(){var a=this.opts();if(d.length&&a.currSlide==a.slideCount-1){var b=d[0];d=d.slice(1),a.container.one("cycle-slide-added",function(a,b){g.apply(b.API),b.container.removeClass("cycle-loading")}),a.container.addClass("cycle-loading"),a.API.add(b)}else g.apply(a.API)}),h&&(f.prev=function(){var a=this.opts();if(d.length&&0===a.currSlide){var b=d.length-1,c=d[b];d=d.slice(0,b),a.container.one("cycle-slide-added",function(a,b){b.currSlide=1,b.API.advanceSlide(-1),b.container.removeClass("cycle-loading")}),a.container.addClass("cycle-loading"),a.API.add(c,!0)}else h.apply(a.API)})}})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),a.extend(a.fn.cycle.API,{tmpl:function(b,c){var d=new RegExp(c.tmplRegex||a.fn.cycle.defaults.tmplRegex,"g"),e=a.makeArray(arguments);return e.shift(),b.replace(d,function(b,c){var d,f,g,h,i=c.split(".");for(d=0;d<e.length;d++)if(g=e[d]){if(i.length>1)for(h=g,f=0;f<i.length;f++)g=h,h=h[i[f]]||c;else h=g[c];if(a.isFunction(h))return h.apply(g,e);if(void 0!==h&&null!==h&&h!=c)return h}return c})}})}(jQuery),!function(a){"use strict";a.event.special.swipe=a.event.special.swipe||{scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var b=a(this);b.bind("touchstart",function(c){function d(b){if(g){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;e={time:(new Date).getTime(),coords:[c.pageX,c.pageY]},Math.abs(g.coords[0]-e.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault()}}var e,f=c.originalEvent.touches?c.originalEvent.touches[0]:c,g={time:(new Date).getTime(),coords:[f.pageX,f.pageY],origin:a(c.target)};b.bind("touchmove",d).one("touchend",function(){b.unbind("touchmove",d),g&&e&&e.time-g.time<a.event.special.swipe.durationThreshold&&Math.abs(g.coords[0]-e.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(g.coords[1]-e.coords[1])<a.event.special.swipe.verticalDistanceThreshold&&g.origin.trigger("swipe").trigger(g.coords[0]>e.coords[0]?"swipeleft":"swiperight"),g=e=void 0})})}},a.event.special.swipeleft=a.event.special.swipeleft||{setup:function(){a(this).bind("swipe",a.noop)}},a.event.special.swiperight=a.event.special.swiperight||a.event.special.swipeleft}(jQuery),!function(a){"use strict";function b(){try{this.playVideo()}catch(a){}}function c(){try{this.pauseVideo()}catch(a){}}var d='<div class=cycle-youtube><object width="640" height="360"><param name="movie" value="{{url}}"></param><param name="allowFullScreen" value="{{allowFullScreen}}"></param><param name="allowscriptaccess" value="always"></param><param name="wmode" value="opaque"></param><embed src="{{url}}" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="{{allowFullScreen}}" wmode="opaque"></embed></object></div>';a.extend(a.fn.cycle.defaults,{youtubeAllowFullScreen:!0,youtubeAutostart:!1,youtubeAutostop:!0}),a(document).on("cycle-bootstrap",function(e,f){f.youtube&&(f.hideNonActive=!1,f.container.find(f.slides).each(function(b){if(void 0!==a(this).attr("href")){var c,e=a(this),g=e.attr("href"),h=f.youtubeAllowFullScreen?"true":"false";g+=(/\?/.test(g)?"&":"?")+"enablejsapi=1",f.youtubeAutostart&&f.startingSlide===b&&(g+="&autoplay=1"),c=f.API.tmpl(d,{url:g,allowFullScreen:h}),e.replaceWith(c)}}),f.slides=f.slides.replace(/(\b>?a\b)/,"div.cycle-youtube"),f.youtubeAutostart&&f.container.on("cycle-initialized cycle-after",function(c,d){var e="cycle-initialized"==c.type?d.currSlide:d.nextSlide;a(d.slides[e]).find("object,embed").each(b)}),f.youtubeAutostop&&f.container.on("cycle-before",function(b,d){a(d.slides[d.currSlide]).find("object,embed").each(c)}))})}(jQuery),function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(b){var c=a(this);if(!(c.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&c.parent("object").length||c.parent(".fluid-width-video-wrapper").length)){c.css("height")||c.css("width")||!isNaN(c.attr("height"))&&!isNaN(c.attr("width"))||(c.attr("height",9),c.attr("width",16));var e="object"===this.tagName.toLowerCase()||c.attr("height")&&!isNaN(parseInt(c.attr("height"),10))?parseInt(c.attr("height"),10):c.height(),f=isNaN(parseInt(c.attr("width"),10))?c.width():parseInt(c.attr("width"),10),g=e/f;if(!c.attr("id")){var h="fitvid"+b;c.attr("id",h)}c.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*g+"%"),c.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),!function(a){a.fn.fitText=function(b,c){var d=b||1,e=a.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},c);return this.each(function(){var b=a(this),c=function(){b.css("font-size",Math.max(Math.min(b.width()/(10*d),parseFloat(e.maxFontSize)),parseFloat(e.minFontSize)))};c(),a(window).on("resize.fittext orientationchange.fittext",c)})}}(jQuery),!function(a,b,c){!function(b){var d="function"==typeof define&&define.amd,e="https:"==c.location.protocol?"https:":"http:",f="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";d||a.event.special.mousewheel||a("head").append(decodeURI("%3Cscript src="+e+"//"+f+"%3E%3C/script%3E")),b()}(function(){var d,e="mCustomScrollbar",f="mCS",g=".mCustomScrollbar",h={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},i=0,j={},k=b.attachEvent&&!b.addEventListener?1:0,l=!1,m=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],n={init:function(b){var b=a.extend(!0,{},h,b),c=o.call(this);if(b.live){var d=b.liveSelector||this.selector||g,e=a(d);if("off"===b.live)return void q(d);j[d]=setTimeout(function(){e.mCustomScrollbar(b),"once"===b.live&&e.length&&q(d)},500)}else q(d);return b.setWidth=b.set_width?b.set_width:b.setWidth,b.setHeight=b.set_height?b.set_height:b.setHeight,b.axis=b.horizontalScroll?"x":r(b.axis),b.scrollInertia=b.scrollInertia>0&&b.scrollInertia<17?17:b.scrollInertia,"object"!=typeof b.mouseWheel&&1==b.mouseWheel&&(b.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),b.mouseWheel.scrollAmount=b.mouseWheelPixels?b.mouseWheelPixels:b.mouseWheel.scrollAmount,b.mouseWheel.normalizeDelta=b.advanced.normalizeMouseWheelDelta?b.advanced.normalizeMouseWheelDelta:b.mouseWheel.normalizeDelta,b.scrollButtons.scrollType=s(b.scrollButtons.scrollType),p(b),a(c).each(function(){var c=a(this);if(!c.data(f)){c.data(f,{idx:++i,opt:b,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:c.css("direction"),cbOffsets:null,trigger:null});var d=c.data(f),e=d.opt,g=c.data("mcs-axis"),h=c.data("mcs-scrollbar-position"),j=c.data("mcs-theme");g&&(e.axis=g),h&&(e.scrollbarPosition=h),j&&(e.theme=j,p(e)),t.call(this),a("#mCSB_"+d.idx+"_container img:not(."+m[2]+")").addClass(m[2]),n.update.call(null,c)}})},update:function(b,c){var d=b||o.call(this);return a(d).each(function(){var b=a(this);if(b.data(f)){var d=b.data(f),e=d.opt,g=a("#mCSB_"+d.idx+"_container"),h=[a("#mCSB_"+d.idx+"_dragger_vertical"),a("#mCSB_"+d.idx+"_dragger_horizontal")];if(!g.length)return;d.tweenRunning&&W(b),b.hasClass(m[3])&&b.removeClass(m[3]),b.hasClass(m[4])&&b.removeClass(m[4]),x.call(this),v.call(this),"y"===e.axis||e.advanced.autoExpandHorizontalScroll||g.css("width",u(g.children())),d.overflowed=B.call(this),F.call(this),e.autoDraggerLength&&y.call(this),z.call(this),D.call(this);var i=[Math.abs(g[0].offsetTop),Math.abs(g[0].offsetLeft)];"x"!==e.axis&&(d.overflowed[0]?h[0].height()>h[0].parent().height()?C.call(this):(X(b,i[0].toString(),{dir:"y",dur:0,overwrite:"none"}),d.contentReset.y=null):(C.call(this),"y"===e.axis?E.call(this):"yx"===e.axis&&d.overflowed[1]&&X(b,i[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==e.axis&&(d.overflowed[1]?h[1].width()>h[1].parent().width()?C.call(this):(X(b,i[1].toString(),{dir:"x",dur:0,overwrite:"none"}),d.contentReset.x=null):(C.call(this),"x"===e.axis?E.call(this):"yx"===e.axis&&d.overflowed[0]&&X(b,i[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),c&&d&&(2===c&&e.callbacks.onImageLoad&&"function"==typeof e.callbacks.onImageLoad?e.callbacks.onImageLoad.call(this):3===c&&e.callbacks.onSelectorChange&&"function"==typeof e.callbacks.onSelectorChange?e.callbacks.onSelectorChange.call(this):e.callbacks.onUpdate&&"function"==typeof e.callbacks.onUpdate&&e.callbacks.onUpdate.call(this)),U.call(this)}})},scrollTo:function(b,c){if("undefined"!=typeof b&&null!=b){var d=o.call(this);return a(d).each(function(){var d=a(this);if(d.data(f)){var e=d.data(f),g=e.opt,h={trigger:"external",scrollInertia:g.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=a.extend(!0,{},h,c),j=S.call(this,b),k=i.scrollInertia>0&&i.scrollInertia<17?17:i.scrollInertia;j[0]=T.call(this,j[0],"y"),j[1]=T.call(this,j[1],"x"),i.moveDragger&&(j[0]*=e.scrollRatio.y,j[1]*=e.scrollRatio.x),i.dur=k,setTimeout(function(){null!==j[0]&&"undefined"!=typeof j[0]&&"x"!==g.axis&&e.overflowed[0]&&(i.dir="y",i.overwrite="all",X(d,j[0].toString(),i)),null!==j[1]&&"undefined"!=typeof j[1]&&"y"!==g.axis&&e.overflowed[1]&&(i.dir="x",i.overwrite="none",X(d,j[1].toString(),i))
},i.timeout)}})}},stop:function(){var b=o.call(this);return a(b).each(function(){var b=a(this);b.data(f)&&W(b)})},disable:function(b){var c=o.call(this);return a(c).each(function(){var c=a(this);c.data(f)&&(c.data(f),U.call(this,"remove"),E.call(this),b&&C.call(this),F.call(this,!0),c.addClass(m[3]))})},destroy:function(){var b=o.call(this);return a(b).each(function(){var c=a(this);if(c.data(f)){var d=c.data(f),g=d.opt,h=a("#mCSB_"+d.idx),i=a("#mCSB_"+d.idx+"_container"),j=a(".mCSB_"+d.idx+"_scrollbar");g.live&&q(g.liveSelector||a(b).selector),U.call(this,"remove"),E.call(this),C.call(this),c.removeData(f),_(this,"mcs"),j.remove(),i.find("img."+m[2]).removeClass(m[2]),h.replaceWith(i.contents()),c.removeClass(e+" _"+f+"_"+d.idx+" "+m[6]+" "+m[7]+" "+m[5]+" "+m[3]).addClass(m[4])}})}},o=function(){return"object"!=typeof a(this)||a(this).length<1?g:this},p=function(b){var c=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],d=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],e=["minimal","minimal-dark"],f=["minimal","minimal-dark"],g=["minimal","minimal-dark"];b.autoDraggerLength=a.inArray(b.theme,c)>-1?!1:b.autoDraggerLength,b.autoExpandScrollbar=a.inArray(b.theme,d)>-1?!1:b.autoExpandScrollbar,b.scrollButtons.enable=a.inArray(b.theme,e)>-1?!1:b.scrollButtons.enable,b.autoHideScrollbar=a.inArray(b.theme,f)>-1?!0:b.autoHideScrollbar,b.scrollbarPosition=a.inArray(b.theme,g)>-1?"outside":b.scrollbarPosition},q=function(a){j[a]&&(clearTimeout(j[a]),_(j,a))},r=function(a){return"yx"===a||"xy"===a||"auto"===a?"yx":"x"===a||"horizontal"===a?"x":"y"},s=function(a){return"stepped"===a||"pixels"===a||"step"===a||"click"===a?"stepped":"stepless"},t=function(){var b=a(this),c=b.data(f),d=c.opt,g=d.autoExpandScrollbar?" "+m[1]+"_expand":"",h=["<div id='mCSB_"+c.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+c.idx+"_scrollbar mCS-"+d.theme+" mCSB_scrollTools_vertical"+g+"'><div class='"+m[12]+"'><div id='mCSB_"+c.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+c.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+c.idx+"_scrollbar mCS-"+d.theme+" mCSB_scrollTools_horizontal"+g+"'><div class='"+m[12]+"'><div id='mCSB_"+c.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],i="yx"===d.axis?"mCSB_vertical_horizontal":"x"===d.axis?"mCSB_horizontal":"mCSB_vertical",j="yx"===d.axis?h[0]+h[1]:"x"===d.axis?h[1]:h[0],k="yx"===d.axis?"<div id='mCSB_"+c.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",l=d.autoHideScrollbar?" "+m[6]:"",n="x"!==d.axis&&"rtl"===c.langDir?" "+m[7]:"";d.setWidth&&b.css("width",d.setWidth),d.setHeight&&b.css("height",d.setHeight),d.setLeft="y"!==d.axis&&"rtl"===c.langDir?"989999px":d.setLeft,b.addClass(e+" _"+f+"_"+c.idx+l+n).wrapInner("<div id='mCSB_"+c.idx+"' class='mCustomScrollBox mCS-"+d.theme+" "+i+"'><div id='mCSB_"+c.idx+"_container' class='mCSB_container' style='position:relative; top:"+d.setTop+"; left:"+d.setLeft+";' dir="+c.langDir+" /></div>");var o=a("#mCSB_"+c.idx),p=a("#mCSB_"+c.idx+"_container");"y"===d.axis||d.advanced.autoExpandHorizontalScroll||p.css("width",u(p.children())),"outside"===d.scrollbarPosition?("static"===b.css("position")&&b.css("position","relative"),b.css("overflow","visible"),o.addClass("mCSB_outside").after(j)):(o.addClass("mCSB_inside").append(j),p.wrap(k)),w.call(this);var q=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")];q[0].css("min-height",q[0].height()),q[1].css("min-width",q[1].width())},u=function(b){return Math.max.apply(Math,b.map(function(){return a(this).outerWidth(!0)}).get())},v=function(){var b=a(this),c=b.data(f),d=c.opt,e=a("#mCSB_"+c.idx+"_container");d.advanced.autoExpandHorizontalScroll&&"y"!==d.axis&&e.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(e[0].getBoundingClientRect().right+.4)-Math.floor(e[0].getBoundingClientRect().left),position:"relative"}).unwrap()},w=function(){var b=a(this),c=b.data(f),d=c.opt,e=a(".mCSB_"+c.idx+"_scrollbar:first"),g=cb(d.scrollButtons.tabindex)?"tabindex='"+d.scrollButtons.tabindex+"'":"",h=["<a href='#' class='"+m[13]+"' oncontextmenu='return false;' "+g+" />","<a href='#' class='"+m[14]+"' oncontextmenu='return false;' "+g+" />","<a href='#' class='"+m[15]+"' oncontextmenu='return false;' "+g+" />","<a href='#' class='"+m[16]+"' oncontextmenu='return false;' "+g+" />"],i=["x"===d.axis?h[2]:h[0],"x"===d.axis?h[3]:h[1],h[2],h[3]];d.scrollButtons.enable&&e.prepend(i[0]).append(i[1]).next(".mCSB_scrollTools").prepend(i[2]).append(i[3])},x=function(){var b=a(this),c=b.data(f),d=a("#mCSB_"+c.idx),e=b.css("max-height")||"none",g=-1!==e.indexOf("%"),h=b.css("box-sizing");if("none"!==e){var i=g?b.parent().height()*parseInt(e)/100:parseInt(e);"border-box"===h&&(i-=b.innerHeight()-b.height()+(b.outerHeight()-b.innerHeight())),d.css("max-height",Math.round(i))}},y=function(){var b=a(this),c=b.data(f),d=a("#mCSB_"+c.idx),e=a("#mCSB_"+c.idx+"_container"),g=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")],h=[d.height()/e.outerHeight(!1),d.width()/e.outerWidth(!1)],i=[parseInt(g[0].css("min-height")),Math.round(h[0]*g[0].parent().height()),parseInt(g[1].css("min-width")),Math.round(h[1]*g[1].parent().width())],j=k&&i[1]<i[0]?i[0]:i[1],l=k&&i[3]<i[2]?i[2]:i[3];g[0].css({height:j,"max-height":g[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"}),g[1].css({width:l,"max-width":g[1].parent().width()-10})},z=function(){var b=a(this),c=b.data(f),d=a("#mCSB_"+c.idx),e=a("#mCSB_"+c.idx+"_container"),g=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")],h=[e.outerHeight(!1)-d.height(),e.outerWidth(!1)-d.width()],i=[h[0]/(g[0].parent().height()-g[0].height()),h[1]/(g[1].parent().width()-g[1].width())];c.scrollRatio={y:i[0],x:i[1]}},A=function(a,b,c){var d=c?m[0]+"_expanded":"",e=a.closest(".mCSB_scrollTools");"active"===b?(a.toggleClass(m[0]+" "+d),e.toggleClass(m[1]),a[0]._draggable=a[0]._draggable?0:1):a[0]._draggable||("hide"===b?(a.removeClass(m[0]),e.removeClass(m[1])):(a.addClass(m[0]),e.addClass(m[1])))},B=function(){var b=a(this),c=b.data(f),d=a("#mCSB_"+c.idx),e=a("#mCSB_"+c.idx+"_container"),g=null==c.overflowed?e.height():e.outerHeight(!1),h=null==c.overflowed?e.width():e.outerWidth(!1);return[g>d.height(),h>d.width()]},C=function(){var b=a(this),c=b.data(f),d=c.opt,e=a("#mCSB_"+c.idx),g=a("#mCSB_"+c.idx+"_container"),h=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")];if(W(b),("x"!==d.axis&&!c.overflowed[0]||"y"===d.axis&&c.overflowed[0])&&(h[0].add(g).css("top",0),X(b,"_resetY")),"y"!==d.axis&&!c.overflowed[1]||"x"===d.axis&&c.overflowed[1]){var i=dx=0;"rtl"===c.langDir&&(i=e.width()-g.outerWidth(!1),dx=Math.abs(i/c.scrollRatio.x)),g.css("left",i),h[1].css("left",dx),X(b,"_resetX")}},D=function(){function b(){g=setTimeout(function(){a.event.special.mousewheel?(clearTimeout(g),K.call(c[0])):b()},100)}var c=a(this),d=c.data(f),e=d.opt;if(!d.bindEvents){if(H.call(this),e.contentTouchScroll&&I.call(this),J.call(this),e.mouseWheel.enable){var g;b()}M.call(this),O.call(this),e.advanced.autoScrollOnFocus&&N.call(this),e.scrollButtons.enable&&P.call(this),e.keyboard.enable&&Q.call(this),d.bindEvents=!0}},E=function(){var b=a(this),d=b.data(f),e=d.opt,g=f+"_"+d.idx,h=".mCSB_"+d.idx+"_scrollbar",i=a("#mCSB_"+d.idx+",#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,"+h+" ."+m[12]+",#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal,"+h+">a"),j=a("#mCSB_"+d.idx+"_container");e.advanced.releaseDraggableSelectors&&i.add(a(e.advanced.releaseDraggableSelectors)),d.bindEvents&&(a(c).unbind("."+g),i.each(function(){a(this).unbind("."+g)}),clearTimeout(b[0]._focusTimeout),_(b[0],"_focusTimeout"),clearTimeout(d.sequential.step),_(d.sequential,"step"),clearTimeout(j[0].onCompleteTimeout),_(j[0],"onCompleteTimeout"),d.bindEvents=!1)},F=function(b){var c=a(this),d=c.data(f),e=d.opt,g=a("#mCSB_"+d.idx+"_container_wrapper"),h=g.length?g:a("#mCSB_"+d.idx+"_container"),i=[a("#mCSB_"+d.idx+"_scrollbar_vertical"),a("#mCSB_"+d.idx+"_scrollbar_horizontal")],j=[i[0].find(".mCSB_dragger"),i[1].find(".mCSB_dragger")];"x"!==e.axis&&(d.overflowed[0]&&!b?(i[0].add(j[0]).add(i[0].children("a")).css("display","block"),h.removeClass(m[8]+" "+m[10])):(e.alwaysShowScrollbar?(2!==e.alwaysShowScrollbar&&j[0].css("display","none"),h.removeClass(m[10])):(i[0].css("display","none"),h.addClass(m[10])),h.addClass(m[8]))),"y"!==e.axis&&(d.overflowed[1]&&!b?(i[1].add(j[1]).add(i[1].children("a")).css("display","block"),h.removeClass(m[9]+" "+m[11])):(e.alwaysShowScrollbar?(2!==e.alwaysShowScrollbar&&j[1].css("display","none"),h.removeClass(m[11])):(i[1].css("display","none"),h.addClass(m[11])),h.addClass(m[9]))),d.overflowed[0]||d.overflowed[1]?c.removeClass(m[5]):c.addClass(m[5])},G=function(a){var b=a.type;switch(b){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[a.originalEvent.pageY,a.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],d=a.originalEvent.touches.length||a.originalEvent.changedTouches.length;return[c.pageY,c.pageX,d>1];default:return[a.pageY,a.pageX,!1]}},H=function(){function b(a){var b=p.find("iframe");if(b.length){var c=a?"auto":"none";b.css("pointer-events",c)}}function d(a,b,c,d){if(p[0].idleTimer=m.scrollInertia<233?250:0,e.attr("id")===o[1])var f="x",g=(e[0].offsetLeft-b+d)*j.scrollRatio.x;else var f="y",g=(e[0].offsetTop-a+c)*j.scrollRatio.y;X(i,g.toString(),{dir:f,drag:!0})}var e,g,h,i=a(this),j=i.data(f),m=j.opt,n=f+"_"+j.idx,o=["mCSB_"+j.idx+"_dragger_vertical","mCSB_"+j.idx+"_dragger_horizontal"],p=a("#mCSB_"+j.idx+"_container"),q=a("#"+o[0]+",#"+o[1]),r=m.advanced.releaseDraggableSelectors?q.add(a(m.advanced.releaseDraggableSelectors)):q;q.bind("mousedown."+n+" touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(d){if(d.stopImmediatePropagation(),d.preventDefault(),ab(d)){l=!0,k&&(c.onselectstart=function(){return!1}),b(!1),W(i),e=a(this);var f=e.offset(),j=G(d)[0]-f.top,n=G(d)[1]-f.left,o=e.height()+f.top,p=e.width()+f.left;o>j&&j>0&&p>n&&n>0&&(g=j,h=n),A(e,"active",m.autoExpandScrollbar)}}).bind("touchmove."+n,function(a){a.stopImmediatePropagation(),a.preventDefault();var b=e.offset(),c=G(a)[0]-b.top,f=G(a)[1]-b.left;d(g,h,c,f)}),a(c).bind("mousemove."+n+" pointermove."+n+" MSPointerMove."+n,function(a){if(e){var b=e.offset(),c=G(a)[0]-b.top,f=G(a)[1]-b.left;if(g===c)return;d(g,h,c,f)}}).add(r).bind("mouseup."+n+" touchend."+n+" pointerup."+n+" MSPointerUp."+n,function(){e&&(A(e,"active",m.autoExpandScrollbar),e=null),l=!1,k&&(c.onselectstart=null),b(!0)})},I=function(){function b(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return a>90?b>4?c[0]:c[3]:a>60?b>3?c[3]:c[2]:a>30?b>8?c[1]:b>6?c[0]:b>4?b:c[2]:b>8?b:c[3]}function c(a,b,c,d,e,f){a&&X(t,a.toString(),{dur:b,scrollEasing:c,dir:d,overwrite:e,drag:f})}var e,g,h,i,j,k,m,n,o,p,q,r,s,t=a(this),u=t.data(f),v=u.opt,w=f+"_"+u.idx,x=a("#mCSB_"+u.idx),y=a("#mCSB_"+u.idx+"_container"),z=[a("#mCSB_"+u.idx+"_dragger_vertical"),a("#mCSB_"+u.idx+"_dragger_horizontal")],A=[],B=[],C=0,D="yx"===v.axis?"none":"all",E=[];y.bind("touchstart."+w+" pointerdown."+w+" MSPointerDown."+w,function(a){if(!bb(a)||l||G(a)[2])return void(d=0);d=1,r=0,s=0;var b=y.offset();e=G(a)[0]-b.top,g=G(a)[1]-b.left,E=[G(a)[0],G(a)[1]]}).bind("touchmove."+w+" pointermove."+w+" MSPointerMove."+w,function(a){if(bb(a)&&!l&&!G(a)[2]&&(a.stopImmediatePropagation(),!s||r)){k=Z();var b=x.offset(),d=G(a)[0]-b.top,f=G(a)[1]-b.left,h="mcsLinearOut";if(A.push(d),B.push(f),E[2]=Math.abs(G(a)[0]-E[0]),E[3]=Math.abs(G(a)[1]-E[1]),u.overflowed[0])var i=z[0].parent().height()-z[0].height(),j=e-d>0&&d-e>-(i*u.scrollRatio.y)&&(2*E[3]<E[2]||"yx"===v.axis);if(u.overflowed[1])var m=z[1].parent().width()-z[1].width(),n=g-f>0&&f-g>-(m*u.scrollRatio.x)&&(2*E[2]<E[3]||"yx"===v.axis);j||n?(a.preventDefault(),r=1):s=1,p="yx"===v.axis?[e-d,g-f]:"x"===v.axis?[null,g-f]:[e-d,null],y[0].idleTimer=250,u.overflowed[0]&&c(p[0],C,h,"y","all",!0),u.overflowed[1]&&c(p[1],C,h,"x",D,!0)}}),x.bind("touchstart."+w+" pointerdown."+w+" MSPointerDown."+w,function(a){if(!bb(a)||l||G(a)[2])return void(d=0);d=1,a.stopImmediatePropagation(),W(t),j=Z();var b=x.offset();h=G(a)[0]-b.top,i=G(a)[1]-b.left,A=[],B=[]}).bind("touchend."+w+" pointerup."+w+" MSPointerUp."+w,function(a){if(bb(a)&&!l&&!G(a)[2]){a.stopImmediatePropagation(),r=0,s=0,m=Z();var d=x.offset(),e=G(a)[0]-d.top,f=G(a)[1]-d.left;if(!(m-k>30)){o=1e3/(m-j);var g="mcsEaseOut",t=2.5>o,w=t?[A[A.length-2],B[B.length-2]]:[0,0];n=t?[e-w[0],f-w[1]]:[e-h,f-i];var z=[Math.abs(n[0]),Math.abs(n[1])];o=t?[Math.abs(n[0]/4),Math.abs(n[1]/4)]:[o,o];var C=[Math.abs(y[0].offsetTop)-n[0]*b(z[0]/o[0],o[0]),Math.abs(y[0].offsetLeft)-n[1]*b(z[1]/o[1],o[1])];p="yx"===v.axis?[C[0],C[1]]:"x"===v.axis?[null,C[1]]:[C[0],null],q=[4*z[0]+v.scrollInertia,4*z[1]+v.scrollInertia];var E=parseInt(v.contentTouchScroll)||0;p[0]=z[0]>E?p[0]:0,p[1]=z[1]>E?p[1]:0,u.overflowed[0]&&c(p[0],q[0],g,"y",D,!1),u.overflowed[1]&&c(p[1],q[1],g,"x",D,!1)}}})},J=function(){function e(){return b.getSelection?b.getSelection().toString():c.selection&&"Control"!=c.selection.type?c.selection.createRange().text:0}function g(a,b,c){m.type=c&&h?"stepped":"stepless",m.scrollAmount=10,R(i,a,b,"mcsLinearOut",c?60:null)}var h,i=a(this),j=i.data(f),k=j.opt,m=j.sequential,n=f+"_"+j.idx,o=a("#mCSB_"+j.idx+"_container"),p=o.parent();o.bind("mousedown."+n,function(){d||h||(h=1,l=!0)}).add(c).bind("mousemove."+n,function(a){if(!d&&h&&e()){var b=o.offset(),c=G(a)[0]-b.top+o[0].offsetTop,f=G(a)[1]-b.left+o[0].offsetLeft;c>0&&c<p.height()&&f>0&&f<p.width()?m.step&&g("off",null,"stepped"):("x"!==k.axis&&j.overflowed[0]&&(0>c?g("on",38):c>p.height()&&g("on",40)),"y"!==k.axis&&j.overflowed[1]&&(0>f?g("on",37):f>p.width()&&g("on",39)))}}).bind("mouseup."+n,function(){d||(h&&(h=0,g("off",null)),l=!1)})},K=function(){function b(a){var b=null;try{var c=a.contentDocument||a.contentWindow.document;b=c.body.innerHTML}catch(d){}return null!==b}var c=a(this),d=c.data(f);if(d){var e=d.opt,g=f+"_"+d.idx,h=a("#mCSB_"+d.idx),i=[a("#mCSB_"+d.idx+"_dragger_vertical"),a("#mCSB_"+d.idx+"_dragger_horizontal")],j=a("#mCSB_"+d.idx+"_container").find("iframe"),l=h;j.length&&j.each(function(){var c=this;b(c)&&(l=l.add(a(c).contents().find("body")))}),l.bind("mousewheel."+g,function(b,f){if(W(c),!L(c,b.target)){var g="auto"!==e.mouseWheel.deltaFactor?parseInt(e.mouseWheel.deltaFactor):k&&b.deltaFactor<100?100:b.deltaFactor||100;if("x"===e.axis||"x"===e.mouseWheel.axis)var j="x",l=[Math.round(g*d.scrollRatio.x),parseInt(e.mouseWheel.scrollAmount)],m="auto"!==e.mouseWheel.scrollAmount?l[1]:l[0]>=h.width()?.9*h.width():l[0],n=Math.abs(a("#mCSB_"+d.idx+"_container")[0].offsetLeft),o=i[1][0].offsetLeft,p=i[1].parent().width()-i[1].width(),q=b.deltaX||b.deltaY||f;else var j="y",l=[Math.round(g*d.scrollRatio.y),parseInt(e.mouseWheel.scrollAmount)],m="auto"!==e.mouseWheel.scrollAmount?l[1]:l[0]>=h.height()?.9*h.height():l[0],n=Math.abs(a("#mCSB_"+d.idx+"_container")[0].offsetTop),o=i[0][0].offsetTop,p=i[0].parent().height()-i[0].height(),q=b.deltaY||f;"y"===j&&!d.overflowed[0]||"x"===j&&!d.overflowed[1]||(e.mouseWheel.invert&&(q=-q),e.mouseWheel.normalizeDelta&&(q=0>q?-1:1),(q>0&&0!==o||0>q&&o!==p||e.mouseWheel.preventDefault)&&(b.stopImmediatePropagation(),b.preventDefault()),X(c,(n-q*m).toString(),{dir:j}))}})}},L=function(b,c){var d=c.nodeName.toLowerCase(),e=b.data(f).opt.mouseWheel.disableOver,g=["select","textarea"];return a.inArray(d,e)>-1&&!(a.inArray(d,g)>-1&&!a(c).is(":focus"))},M=function(){var b=a(this),c=b.data(f),d=f+"_"+c.idx,e=a("#mCSB_"+c.idx+"_container"),g=e.parent(),h=a(".mCSB_"+c.idx+"_scrollbar ."+m[12]);h.bind("touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(){l=!0}).bind("touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(){l=!1}).bind("click."+d,function(d){if(a(d.target).hasClass(m[12])||a(d.target).hasClass("mCSB_draggerRail")){W(b);var f=a(this),h=f.find(".mCSB_dragger");if(f.parent(".mCSB_scrollTools_horizontal").length>0){if(!c.overflowed[1])return;var i="x",j=d.pageX>h.offset().left?-1:1,k=Math.abs(e[0].offsetLeft)-.9*j*g.width()}else{if(!c.overflowed[0])return;var i="y",j=d.pageY>h.offset().top?-1:1,k=Math.abs(e[0].offsetTop)-.9*j*g.height()}X(b,k.toString(),{dir:i,scrollEasing:"mcsEaseInOut"})}})},N=function(){var b=a(this),d=b.data(f),e=d.opt,g=f+"_"+d.idx,h=a("#mCSB_"+d.idx+"_container"),i=h.parent();h.bind("focusin."+g,function(){var d=a(c.activeElement),f=h.find(".mCustomScrollBox").length,g=0;d.is(e.advanced.autoScrollOnFocus)&&(W(b),clearTimeout(b[0]._focusTimeout),b[0]._focusTimer=f?(g+17)*f:0,b[0]._focusTimeout=setTimeout(function(){var a=[db(d)[0],db(d)[1]],c=[h[0].offsetTop,h[0].offsetLeft],f=[c[0]+a[0]>=0&&c[0]+a[0]<i.height()-d.outerHeight(!1),c[1]+a[1]>=0&&c[0]+a[1]<i.width()-d.outerWidth(!1)],j="yx"!==e.axis||f[0]||f[1]?"all":"none";"x"===e.axis||f[0]||X(b,a[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:j,dur:g}),"y"===e.axis||f[1]||X(b,a[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:j,dur:g})},b[0]._focusTimer))})},O=function(){var b=a(this),c=b.data(f),d=f+"_"+c.idx,e=a("#mCSB_"+c.idx+"_container").parent();e.bind("scroll."+d,function(){(0!==e.scrollTop()||0!==e.scrollLeft())&&a(".mCSB_"+c.idx+"_scrollbar").css("visibility","hidden")})},P=function(){var b=a(this),c=b.data(f),d=c.opt,e=c.sequential,g=f+"_"+c.idx,h=".mCSB_"+c.idx+"_scrollbar",i=a(h+">a");i.bind("mousedown."+g+" touchstart."+g+" pointerdown."+g+" MSPointerDown."+g+" mouseup."+g+" touchend."+g+" pointerup."+g+" MSPointerUp."+g+" mouseout."+g+" pointerout."+g+" MSPointerOut."+g+" click."+g,function(f){function g(a,c){e.scrollAmount=d.snapAmount||d.scrollButtons.scrollAmount,R(b,a,c)}if(f.preventDefault(),ab(f)){var h=a(this).attr("class");switch(e.type=d.scrollButtons.scrollType,f.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===e.type)return;l=!0,c.tweenRunning=!1,g("on",h);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===e.type)return;l=!1,e.dir&&g("off",h);break;case"click":if("stepped"!==e.type||c.tweenRunning)return;g("on",h)}}})},Q=function(){var b=a(this),d=b.data(f),e=d.opt,g=d.sequential,h=f+"_"+d.idx,i=a("#mCSB_"+d.idx),j=a("#mCSB_"+d.idx+"_container"),k=j.parent(),l="input,textarea,select,datalist,keygen,[contenteditable='true']";i.attr("tabindex","0").bind("blur."+h+" keydown."+h+" keyup."+h,function(f){function h(a,c){g.type=e.keyboard.scrollType,g.scrollAmount=e.snapAmount||e.keyboard.scrollAmount,"stepped"===g.type&&d.tweenRunning||R(b,a,c)}switch(f.type){case"blur":d.tweenRunning&&g.dir&&h("off",null);break;case"keydown":case"keyup":var i=f.keyCode?f.keyCode:f.which,m="on";if("x"!==e.axis&&(38===i||40===i)||"y"!==e.axis&&(37===i||39===i)){if((38===i||40===i)&&!d.overflowed[0]||(37===i||39===i)&&!d.overflowed[1])return;"keyup"===f.type&&(m="off"),a(c.activeElement).is(l)||(f.preventDefault(),f.stopImmediatePropagation(),h(m,i))}else if(33===i||34===i){if((d.overflowed[0]||d.overflowed[1])&&(f.preventDefault(),f.stopImmediatePropagation()),"keyup"===f.type){W(b);var n=34===i?-1:1;if("x"===e.axis||"yx"===e.axis&&d.overflowed[1]&&!d.overflowed[0])var o="x",p=Math.abs(j[0].offsetLeft)-.9*n*k.width();else var o="y",p=Math.abs(j[0].offsetTop)-.9*n*k.height();X(b,p.toString(),{dir:o,scrollEasing:"mcsEaseInOut"})}}else if((35===i||36===i)&&!a(c.activeElement).is(l)&&((d.overflowed[0]||d.overflowed[1])&&(f.preventDefault(),f.stopImmediatePropagation()),"keyup"===f.type)){if("x"===e.axis||"yx"===e.axis&&d.overflowed[1]&&!d.overflowed[0])var o="x",p=35===i?Math.abs(k.width()-j.outerWidth(!1)):0;else var o="y",p=35===i?Math.abs(k.height()-j.outerHeight(!1)):0;X(b,p.toString(),{dir:o,scrollEasing:"mcsEaseInOut"})}}})},R=function(b,c,d,e,g){function h(a){var c="stepped"!==l.type,d=g?g:a?c?p/1.5:q:1e3/60,f=a?c?7.5:40:2.5,i=[Math.abs(n[0].offsetTop),Math.abs(n[0].offsetLeft)],k=[j.scrollRatio.y>10?10:j.scrollRatio.y,j.scrollRatio.x>10?10:j.scrollRatio.x],m="x"===l.dir[0]?i[1]+l.dir[1]*k[1]*f:i[0]+l.dir[1]*k[0]*f,o="x"===l.dir[0]?i[1]+l.dir[1]*parseInt(l.scrollAmount):i[0]+l.dir[1]*parseInt(l.scrollAmount),r="auto"!==l.scrollAmount?o:m,s=e?e:a?c?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",t=a?!0:!1;return a&&17>d&&(r="x"===l.dir[0]?i[1]:i[0]),X(b,r.toString(),{dir:l.dir[0],scrollEasing:s,dur:d,onComplete:t}),a?void(l.dir=!1):(clearTimeout(l.step),void(l.step=setTimeout(function(){h()},d)))}function i(){clearTimeout(l.step),_(l,"step"),W(b)}var j=b.data(f),k=j.opt,l=j.sequential,n=a("#mCSB_"+j.idx+"_container"),o="stepped"===l.type?!0:!1,p=k.scrollInertia<26?26:k.scrollInertia,q=k.scrollInertia<1?17:k.scrollInertia;switch(c){case"on":if(l.dir=[d===m[16]||d===m[15]||39===d||37===d?"x":"y",d===m[13]||d===m[15]||38===d||37===d?-1:1],W(b),cb(d)&&"stepped"===l.type)return;h(o);break;case"off":i(),(o||j.tweenRunning&&l.dir)&&h(!0)}},S=function(b){var c=a(this).data(f).opt,d=[];return"function"==typeof b&&(b=b()),b instanceof Array?d=b.length>1?[b[0],b[1]]:"x"===c.axis?[null,b[0]]:[b[0],null]:(d[0]=b.y?b.y:b.x||"x"===c.axis?null:b,d[1]=b.x?b.x:b.y||"y"===c.axis?null:b),"function"==typeof d[0]&&(d[0]=d[0]()),"function"==typeof d[1]&&(d[1]=d[1]()),d},T=function(b,c){if(null!=b&&"undefined"!=typeof b){var d=a(this),e=d.data(f),g=e.opt,h=a("#mCSB_"+e.idx+"_container"),i=h.parent(),j=typeof b;c||(c="x"===g.axis?"x":"y");var k="x"===c?h.outerWidth(!1):h.outerHeight(!1),l="x"===c?h[0].offsetLeft:h[0].offsetTop,m="x"===c?"left":"top";switch(j){case"function":return b();case"object":var o=b.jquery?b:a(b);if(!o.length)return;return"x"===c?db(o)[1]:db(o)[0];case"string":case"number":if(cb(b))return Math.abs(b);if(-1!==b.indexOf("%"))return Math.abs(k*parseInt(b)/100);if(-1!==b.indexOf("-="))return Math.abs(l-parseInt(b.split("-=")[1]));if(-1!==b.indexOf("+=")){var p=l+parseInt(b.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==b.indexOf("px")&&cb(b.split("px")[0]))return Math.abs(b.split("px")[0]);if("top"===b||"left"===b)return 0;if("bottom"===b)return Math.abs(i.height()-h.outerHeight(!1));if("right"===b)return Math.abs(i.width()-h.outerWidth(!1));if("first"===b||"last"===b){var o=h.find(":"+b);return"x"===c?db(o)[1]:db(o)[0]}return a(b).length?"x"===c?db(a(b))[1]:db(a(b))[0]:(h.css(m,b),void n.update.call(null,d[0]))}}},U=function(b){function c(){clearTimeout(l[0].autoUpdate),l[0].autoUpdate=setTimeout(function(){return k.advanced.updateOnSelectorChange&&(o=g(),o!==u)?(h(3),void(u=o)):(k.advanced.updateOnContentResize&&(p=[l.outerHeight(!1),l.outerWidth(!1),r.height(),r.width(),t()[0],t()[1]],(p[0]!==v[0]||p[1]!==v[1]||p[2]!==v[2]||p[3]!==v[3]||p[4]!==v[4]||p[5]!==v[5])&&(h(p[0]!==v[0]||p[1]!==v[1]),v=p)),k.advanced.updateOnImageLoad&&(q=d(),q!==w&&(l.find("img").each(function(){e(this)}),w=q)),void((k.advanced.updateOnSelectorChange||k.advanced.updateOnContentResize||k.advanced.updateOnImageLoad)&&c()))},60)}function d(){var a=0;return k.advanced.updateOnImageLoad&&(a=l.find("img").length),a}function e(b){function c(a,b){return function(){return b.apply(a,arguments)}}function d(){this.onload=null,a(b).addClass(m[2]),h(2)}if(a(b).hasClass(m[2]))return void h();var e=new Image;e.onload=c(e,d),e.src=b.src}function g(){k.advanced.updateOnSelectorChange===!0&&(k.advanced.updateOnSelectorChange="*");var b=0,c=l.find(k.advanced.updateOnSelectorChange);return k.advanced.updateOnSelectorChange&&c.length>0&&c.each(function(){b+=a(this).height()+a(this).width()}),b}function h(a){clearTimeout(l[0].autoUpdate),n.update.call(null,i[0],a)}var i=a(this),j=i.data(f),k=j.opt,l=a("#mCSB_"+j.idx+"_container");if(b)return clearTimeout(l[0].autoUpdate),void _(l[0],"autoUpdate");var o,p,q,r=l.parent(),s=[a("#mCSB_"+j.idx+"_scrollbar_vertical"),a("#mCSB_"+j.idx+"_scrollbar_horizontal")],t=function(){return[s[0].is(":visible")?s[0].outerHeight(!0):0,s[1].is(":visible")?s[1].outerWidth(!0):0]},u=g(),v=[l.outerHeight(!1),l.outerWidth(!1),r.height(),r.width(),t()[0],t()[1]],w=d();c()},V=function(a,b,c){return Math.round(a/b)*b-c},W=function(b){var c=b.data(f),d=a("#mCSB_"+c.idx+"_container,#mCSB_"+c.idx+"_container_wrapper,#mCSB_"+c.idx+"_dragger_vertical,#mCSB_"+c.idx+"_dragger_horizontal");d.each(function(){$.call(this)})},X=function(b,c,d){function e(a){return i&&j.callbacks[a]&&"function"==typeof j.callbacks[a]}function g(){return[j.callbacks.alwaysTriggerOffsets||t>=u[0]+w,j.callbacks.alwaysTriggerOffsets||-x>=t]}function h(){var a=[n[0].offsetTop,n[0].offsetLeft],c=[r[0].offsetTop,r[0].offsetLeft],e=[n.outerHeight(!1),n.outerWidth(!1)],f=[m.height(),m.width()];b[0].mcs={content:n,top:a[0],left:a[1],draggerTop:c[0],draggerLeft:c[1],topPct:Math.round(100*Math.abs(a[0])/(Math.abs(e[0])-f[0])),leftPct:Math.round(100*Math.abs(a[1])/(Math.abs(e[1])-f[1])),direction:d.dir}}var i=b.data(f),j=i.opt,k={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:j.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},d=a.extend(k,d),l=[d.dur,d.drag?0:d.dur],m=a("#mCSB_"+i.idx),n=a("#mCSB_"+i.idx+"_container"),o=n.parent(),p=j.callbacks.onTotalScrollOffset?S.call(b,j.callbacks.onTotalScrollOffset):[0,0],q=j.callbacks.onTotalScrollBackOffset?S.call(b,j.callbacks.onTotalScrollBackOffset):[0,0];if(i.trigger=d.trigger,(0!==o.scrollTop()||0!==o.scrollLeft())&&(a(".mCSB_"+i.idx+"_scrollbar").css("visibility","visible"),o.scrollTop(0).scrollLeft(0)),"_resetY"!==c||i.contentReset.y||(e("onOverflowYNone")&&j.callbacks.onOverflowYNone.call(b[0]),i.contentReset.y=1),"_resetX"!==c||i.contentReset.x||(e("onOverflowXNone")&&j.callbacks.onOverflowXNone.call(b[0]),i.contentReset.x=1),"_resetY"!==c&&"_resetX"!==c){switch(!i.contentReset.y&&b[0].mcs||!i.overflowed[0]||(e("onOverflowY")&&j.callbacks.onOverflowY.call(b[0]),i.contentReset.x=null),!i.contentReset.x&&b[0].mcs||!i.overflowed[1]||(e("onOverflowX")&&j.callbacks.onOverflowX.call(b[0]),i.contentReset.x=null),j.snapAmount&&(c=V(c,j.snapAmount,j.snapOffset)),d.dir){case"x":var r=a("#mCSB_"+i.idx+"_dragger_horizontal"),s="left",t=n[0].offsetLeft,u=[m.width()-n.outerWidth(!1),r.parent().width()-r.width()],v=[c,0===c?0:c/i.scrollRatio.x],w=p[1],x=q[1],y=w>0?w/i.scrollRatio.x:0,z=x>0?x/i.scrollRatio.x:0;break;case"y":var r=a("#mCSB_"+i.idx+"_dragger_vertical"),s="top",t=n[0].offsetTop,u=[m.height()-n.outerHeight(!1),r.parent().height()-r.height()],v=[c,0===c?0:c/i.scrollRatio.y],w=p[0],x=q[0],y=w>0?w/i.scrollRatio.y:0,z=x>0?x/i.scrollRatio.y:0}v[1]<0||0===v[0]&&0===v[1]?v=[0,0]:v[1]>=u[1]?v=[u[0],u[1]]:v[0]=-v[0],b[0].mcs||(h(),e("onInit")&&j.callbacks.onInit.call(b[0])),clearTimeout(n[0].onCompleteTimeout),(i.tweenRunning||!(0===t&&v[0]>=0||t===u[0]&&v[0]<=u[0]))&&(Y(r[0],s,Math.round(v[1]),l[1],d.scrollEasing),Y(n[0],s,Math.round(v[0]),l[0],d.scrollEasing,d.overwrite,{onStart:function(){d.callbacks&&d.onStart&&!i.tweenRunning&&(e("onScrollStart")&&(h(),j.callbacks.onScrollStart.call(b[0])),i.tweenRunning=!0,A(r),i.cbOffsets=g())},onUpdate:function(){d.callbacks&&d.onUpdate&&e("whileScrolling")&&(h(),j.callbacks.whileScrolling.call(b[0]))},onComplete:function(){if(d.callbacks&&d.onComplete){"yx"===j.axis&&clearTimeout(n[0].onCompleteTimeout);var a=n[0].idleTimer||0;n[0].onCompleteTimeout=setTimeout(function(){e("onScroll")&&(h(),j.callbacks.onScroll.call(b[0])),e("onTotalScroll")&&v[1]>=u[1]-y&&i.cbOffsets[0]&&(h(),j.callbacks.onTotalScroll.call(b[0])),e("onTotalScrollBack")&&v[1]<=z&&i.cbOffsets[1]&&(h(),j.callbacks.onTotalScrollBack.call(b[0])),i.tweenRunning=!1,n[0].idleTimer=0,A(r,"hide")},a)}}}))}},Y=function(a,c,d,e,f,g,h){function i(){w.stop||(t||p.call(),t=Z()-s,j(),t>=w.time&&(w.time=t>w.time?t+n-(t-w.time):t+n-1,w.time<t+1&&(w.time=t+1)),w.time<e?w.id=o(i):r.call())}function j(){e>0?(w.currVal=m(w.time,u,x,e,f),v[c]=Math.round(w.currVal)+"px"):v[c]=d+"px",q.call()}function k(){n=1e3/60,w.time=t+n,o=b.requestAnimationFrame?b.requestAnimationFrame:function(a){return j(),setTimeout(a,.01)},w.id=o(i)}function l(){null!=w.id&&(b.requestAnimationFrame?b.cancelAnimationFrame(w.id):clearTimeout(w.id),w.id=null)}function m(a,b,c,d,e){switch(e){case"linear":case"mcsLinear":return c*a/d+b;case"mcsLinearOut":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case"easeInOutSmooth":return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);case"easeInOutStrong":return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b);case"easeInOut":case"mcsEaseInOut":return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b);case"easeOutSmooth":return a/=d,a--,-c*(a*a*a*a-1)+b;case"easeOutStrong":return c*(-Math.pow(2,-10*a/d)+1)+b;case"easeOut":case"mcsEaseOut":default:var f=(a/=d)*a,g=f*a;return b+c*(.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a)}}a._mTween||(a._mTween={top:{},left:{}});var n,o,h=h||{},p=h.onStart||function(){},q=h.onUpdate||function(){},r=h.onComplete||function(){},s=Z(),t=0,u=a.offsetTop,v=a.style,w=a._mTween[c];"left"===c&&(u=a.offsetLeft);var x=d-u;w.stop=0,"none"!==g&&l(),k()},Z=function(){return b.performance&&b.performance.now?b.performance.now():b.performance&&b.performance.webkitNow?b.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},$=function(){var a=this;a._mTween||(a._mTween={top:{},left:{}});for(var c=["top","left"],d=0;d<c.length;d++){var e=c[d];a._mTween[e].id&&(b.requestAnimationFrame?b.cancelAnimationFrame(a._mTween[e].id):clearTimeout(a._mTween[e].id),a._mTween[e].id=null,a._mTween[e].stop=1)}},_=function(a,b){try{delete a[b]}catch(c){a[b]=null}},ab=function(a){return!(a.which&&1!==a.which)},bb=function(a){var b=a.originalEvent.pointerType;return!(b&&"touch"!==b&&2!==b)},cb=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},db=function(a){var b=a.parents(".mCSB_container");return[a.offset().top-b.offset().top,a.offset().left-b.offset().left]};a.fn[e]=function(b){return n[b]?n[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist"):n.init.apply(this,arguments)},a[e]=function(b){return n[b]?n[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist"):n.init.apply(this,arguments)},a[e].defaults=h,b[e]=!0,a(b).load(function(){a(g)[e](),a.extend(a.expr[":"],{mcsInView:a.expr[":"].mcsInView||function(b){var c,d,e=a(b),f=e.parents(".mCSB_container");return f.length?(c=f.parent(),d=[f[0].offsetTop,f[0].offsetLeft],d[0]+db(e)[0]>=0&&d[0]+db(e)[0]<c.height()-e.outerHeight(!1)&&d[1]+db(e)[1]>=0&&d[1]+db(e)[1]<c.width()-e.outerWidth(!1)):void 0},mcsOverflow:a.expr[":"].mcsOverflow||function(b){var c=a(b).data(f);return c?c.overflowed[0]||c.overflowed[1]:void 0}})})})}(jQuery,window,document);var coverVid=function(a,b,c){function d(a,b){var c=null;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}}function e(){var d=a.parentNode.offsetHeight,e=a.parentNode.offsetWidth,f=b,g=c,h=d/g,i=e/f;i>h?(a.style.height="auto",a.style.width=e+"px"):(a.style.height=d+"px",a.style.width="auto")}document.addEventListener("DOMContentLoaded",e),window.onresize=function(){d(e(),50)},a.style.position="absolute",a.style.top="50%",a.style.left="50%",a.style["-webkit-transform"]="translate(-50%, -50%)",a.style["-ms-transform"]="translate(-50%, -50%)",a.style.transform="translate(-50%, -50%)",a.parentNode.style.overflow="hidden"};window.jQuery&&jQuery.fn.extend({coverVid:function(){return coverVid(this[0],arguments[0],arguments[1]),this
}}),!function(a,b,c,d){function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="formplate",g={};e.prototype={init:function(){var a=this;a.settings,a.setup_formplate()},setup_formplate:function(){var b=this;b.settings,$data_form_colour=a("body").data("formplate-colour"),$data_form_colour!=d&&a("html").addClass("fp-colour-"+$data_form_colour),a(".formplate input.credit-card").each(function(){a(this).wrap('<span class="fp-credit-card"></span>')}),a('.formplate input[type="checkbox"]').each(function(){a(this).hasClass("toggler")?(a(this).wrap('<span class="fp-toggler"></span>'),a(this).is(":checked")&&a(this).parents(".fp-toggler").addClass("checked")):(a(this).wrap('<span class="fp-checkbox"></span>'),a(this).is(":checked")&&a(this).parents(".fp-checkbox").addClass("checked"))}),a(".fp-toggler").prepend('<span class="handle"></span>'),a('.formplate input[type="radio"]').each(function(){a(this).wrap('<span class="fp-radio"></span>'),a(this).is(":checked")&&a(this).parents(".fp-radio").addClass("checked")}),a(".formplate select").each(function(){a(this).wrap('<span class="fp-select"></span>')})}},a(c).on("change",'.formplate input[type="radio"]',function(){var b=a(this).attr("name");a('input[name="'+b+'"]').parents(".fp-radio").removeClass("checked"),a(this).parents(".fp-radio").toggleClass("checked")}),a(c).on("click",".formplate .fp-checkbox, .formplate .fp-toggler",function(){var b=a(this).find('input[type="checkbox"]');a(this).hasClass("checked")?b.removeAttr("checked"):b.attr("checked","checked"),a(this).toggleClass("checked")}),a.fn[f]=function(b){var c;return this.each(function(){c=a.data(this,"plugin_"+f),c||(c=new e(this,b),a.data(this,"plugin_"+f,c))}),c}}(jQuery,window,document),window.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(u.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&t[e]!==c)return"pfx"==b?e:!0}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+w.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+x.join(d+" ")+d).split(" "),i(e,b,c))}var k,l,m,n="2.7.1",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),v="Webkit Moz O ms",w=v.split(" "),x=v.toLowerCase().split(" "),y={},z=[],A=z.slice,B=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',r,'">',a,"</style>"].join(""),j.id=r,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=q.style.overflow,q.style.overflow="hidden",q.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),q.style.overflow=i),!!g},C=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),D={}.hasOwnProperty;m=f(D,"undefined")||f(D.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return D.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=A.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(A.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(A.call(arguments)))};return d}),y.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},y.canvastext=function(){return!(!o.canvas||!f(b.createElement("canvas").getContext("2d").fillText,"function"))},y.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:B(["@media (",u.join("touch-enabled),("),r,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},y.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(t.backgroundColor,"rgba")},y.backgroundsize=function(){return j("backgroundSize")},y.borderimage=function(){return j("borderImage")},y.borderradius=function(){return j("borderRadius")},y.boxshadow=function(){return j("boxShadow")},y.textshadow=function(){return""===b.createElement("div").style.textShadow},y.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},y.cssanimations=function(){return j("animationName")},y.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+"-webkit- ".split(" ").join(b+a)+u.join(c+a)).slice(0,-a.length)),g(t.backgroundImage,"gradient")},y.csstransforms=function(){return!!j("transform")},y.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in q.style&&B("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},y.csstransitions=function(){return j("transition")},y.fontface=function(){var a;return B('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a};for(var E in y)m(y,E)&&(l=E.toLowerCase(),o[l]=y[E](),z.push((o[l]?"":"no-")+l));return o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,"undefined"!=typeof p&&p&&(q.className+=" "+(b?"":"no-")+a),o[a]=b}return o},d(""),s=k=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=r[a[p]];return b||(b={},q++,a[p]=q,r[q]=b),b}function f(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():o.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!f.canHaveChildren||n.test(a)||f.tagUrn?f:d.frag.appendChild(f)}function g(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function i(a){a||(a=b);var d=e(a);return!s.shivCSS||j||d.hasCSS||(d.hasCSS=!!c(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||h(a,d),a}var j,k,l="3.7.0",m=a.html5||{},n=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",q=0,r={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",j="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){j=!0,k=!0}}();var s={elements:m.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:l,shivCSS:m.shivCSS!==!1,supportsUnknownElements:k,shivMethods:m.shivMethods!==!1,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=s,i(b)}(this,b),o._version=n,o._prefixes=u,o._domPrefixes=x,o._cssomPrefixes=w,o.hasEvent=C,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=B,q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+z.join(" "):""),o}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==q.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=r.shift();s=1,a?a.t?o(function(){("c"==a.t?m.injectCss:m.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):s=0}function i(a,c,d,e,f,i,j){function k(b){if(!n&&g(l.readyState)&&(t.r=n=1,!s&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&o(function(){v.removeChild(l)},50);for(var d in A[c])A[c].hasOwnProperty(d)&&A[c][d].onload()}}var j=j||m.errorTimeout,l=b.createElement(a),n=0,q=0,t={t:d,s:c,e:f,a:i,x:j};1===A[c]&&(q=1,A[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,q)},r.splice(e,0,t),"img"!=a&&(q||2===A[c]?(v.insertBefore(l,u?null:p),o(k,j)):A[c].push(l))}function j(a,b,c,d,f){return s=0,b=b||"j",e(a)?i("c"==b?x:w,a,b,this.i++,c,d,f):(r.splice(this.i++,0,a),1==r.length&&h()),this}function k(){var a=m;return a.loader={load:j,i:0},a}var l,m,n=b.documentElement,o=a.setTimeout,p=b.getElementsByTagName("script")[0],q={}.toString,r=[],s=0,t="MozAppearance"in n.style,u=t&&!!b.createRange().compareNode,v=u?n:p.parentNode,n=a.opera&&"[object Opera]"==q.call(a.opera),n=!!b.attachEvent&&!n,w=t?"object":n?"script":"img",x=n?"script":w,y=Array.isArray||function(a){return"[object Array]"==q.call(a)},z=[],A={},B={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};m=function(a){function b(a){var b,c,d,a=a.split("!"),e=z.length,f=a.pop(),g=a.length,f={url:f,origUrl:f,prefixes:a};for(c=0;g>c;c++)d=a[c].split("="),(b=B[d.shift()])&&(f=b(f,d));for(c=0;e>c;c++)f=z[c](f);return f}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(A[i.url]?i.noexec=!0:A[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),A[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}),g(a,l,b,0,j);else if(Object(a)===a)for(i in h=function(){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}(),a)a.hasOwnProperty(i)&&(!c&&!--h&&(d(l)?l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}:l[i]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),n()}}(m[i])),g(a[i],l,b,i,j))}else!c&&n()}var h,i,j=!!a.test,k=a.load||a.both,l=a.callback||f,m=l,n=a.complete||f;c(j?a.yep:a.nope,!!k),k&&c(k)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(y(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):y(j)?m(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},m.addPrefix=function(a,b){B[a]=b},m.addFilter=function(a){z.push(a)},m.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",l=function(){b.removeEventListener("DOMContentLoaded",l,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k,l,n=b.createElement("script"),e=e||m.errorTimeout;n.src=a;for(l in d)n.setAttribute(l,d[l]);c=j?h:c||f,n.onreadystatechange=n.onload=function(){!k&&g(n.readyState)&&(k=1,c(),n.onload=n.onreadystatechange=null)},o(function(){k||(k=1,c(1))},e),i?n.onload():p.parentNode.insertBefore(n,p)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(p.parentNode.insertBefore(e,p),o(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},!function(a){a.fn.nicefileinput=function(b){var c={label:"Browse...",fullPath:!1};return b&&a.extend(c,b),this.each(function(){var b=this;if(void 0===a(b).attr("data-styled")){var d=Math.round(1e4*Math.random()),e=new Date,f=e.getTime()+d.toString(),g=a('<input type="text" readonly="readonly">').css({display:"block","float":"left",margin:0,padding:"0 5px"}).addClass("NFI-filename NFI"+f),h=a("<div>").css({overflow:"hidden",position:"relative",display:"block","float":"left","white-space":"nowrap","text-align":"center"}).addClass("NFI-button NFI"+f).html(c.label);a(b).after(g),a(b).wrap(h),a(".NFI"+f).wrapAll('<div class="NFI-wrapper" id="NFI-wrapper-'+f+'" />'),a(".NFI-wrapper").css({overflow:"auto",display:"inline-block"}),a("#NFI-wrapper-"+f).addClass(a(b).attr("class")),a(b).css({opacity:0,position:"absolute",border:"none",margin:0,padding:0,top:0,right:0,cursor:"pointer",height:"60px"}).addClass("NFI-current"),a(b).on("change",function(){var d=a(b).val();if(c.fullPath)g.val(d);else{var e=d.split(/[/\\]/);g.val(e[e.length-1])}}),a(b).attr("data-styled",!0)}})}}(jQuery),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d,e;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e?e:!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c;return a(this[0]).is("form")?b=this.validate().form():(b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b})),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!this.is(e.ignore)&&e[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",b).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=b.type;return"radio"===e||"checkbox"===e?a("input[name='"+b.name+"']:checked").val():"number"===e&&"undefined"!=typeof b.validity?b.validity.badInput?!1:d.val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j}}return h?void 0:(this.objectLength(f)&&this.successList.push(b),!0)},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g=this.errorsFor(b),h=this.idOrName(b),i=a(b).attr("aria-describedby");g.length?(g.removeClass(this.settings.validClass).addClass(this.settings.errorClass),g.html(c)):(g=a("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(c||""),d=g,this.settings.wrapper&&(d=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),g.is("label")?g.attr("for",h):0===g.parents("label[for='"+h+"']").length&&(f=g.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),i?i.match(new RegExp("\\b"+f+"\\b"))||(i+=" "+f):i=f,a(b).attr("aria-describedby",i),e=this.groups[b.name],e&&a.each(this.groups,function(b,c){c===e&&a("[name='"+b+"']",this.currentForm).attr("aria-describedby",g.attr("id"))}))),!c&&this.settings.success&&(g.text(""),"string"==typeof this.settings.success?g.addClass(this.settings.success):this.settings.success(g,b)),this.toShow=this.toShow.add(g)},errorsFor:function(b){var c=this.idOrName(b),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+d.replace(/\s+/g,", #")),this.errors().filter(e)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),/min|max/.test(c)&&(null===g||/number|range|text/.test(g))&&(d=Number(d)),d||0===d?e[c]=d:g===c&&"range"!==g&&(e[c]=!0);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)
},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}}),a.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}),jQuery.extend(jQuery.validator.messages,{required:"Este campo es obligatorio.",remote:"Por favor, rellena este campo.",email:"Por favor, escribe una dirección de correo válida.",url:"Por favor, escribe una URL válida.",date:"Por favor, escribe una fecha válida.",dateISO:"Por favor, escribe una fecha (ISO) válida.",number:"Por favor, escribe un número entero válido.",digits:"Por favor, escribe sólo dígitos.",creditcard:"Por favor, escribe un número de tarjeta válido.",equalTo:"Por favor, escribe el mismo valor de nuevo.",accept:"Por favor, escribe un valor con una extensión aceptada.",maxlength:jQuery.validator.format("Por favor, no escribas más de {0} caracteres."),minlength:jQuery.validator.format("Por favor, no escribas menos de {0} caracteres."),rangelength:jQuery.validator.format("Por favor, escribe un valor entre {0} y {1} caracteres."),range:jQuery.validator.format("Por favor, escribe un valor entre {0} y {1}."),max:jQuery.validator.format("Por favor, escribe un valor menor o igual a {0}."),min:jQuery.validator.format("Por favor, escribe un valor mayor o igual a {0}.")});var CSPhotoSelector=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;return c=function(a){j={speed:100,debug:!1,disabledClass:"CSPhotoSelector_disabled",albumSelectedClass:"CSPhotoSelector_photoSelected",albumDisabledClass:"CSPhotoSelector_photoDisabled",photoFilteredClass:"CSPhotoSelector_photoFiltered",containerSelector:"#CSPhotoSelector",albumsContainerSelector:".CSAlbum_container",photosContainerSelector:".CSPhoto_container",photosWrapperSelector:".CSPhotoSelector_wrapper",selectedPhotoCountSelector:".CSPhotoSelector_selectedPhotoCount",selectedPhotoCountMaxSelector:".CSPhotoSelector_selectedPhotoCountMax",pageNumberSelector:"#CSPhotoSelector_pageNumber",pageNumberTotalSelector:"#CSPhotoSelector_pageNumberTotal",pagePrevSelector:"#CSPhotoSelector_pagePrev",pageNextSelector:"#CSPhotoSelector_pageNext",buttonBackToAlbumsSelector:"#CSPhotoSelector_backToAlbums",buttonCloseSelector:"#CSPhotoSelector_buttonClose",buttonOKSelector:"#CSPhotoSelector_buttonOK",buttonCancelSelector:"#CSPhotoSelector_buttonCancel",loader:"#CSPhotoSelector_loader",pagination:".CSPhotoSelector_pageNumberContainer, #CSPhotoSelector_pagePrev, #CSPhotoSelector_pageNext"},b.extend(j,a),o=b(j.containerSelector),p=o.find(j.albumsContainerSelector),q=o.find(j.photosContainerSelector),$photosWrapper=o.find(j.photosWrapperSelector),r=o.find(j.selectedPhotoCountSelector),s=o.find(j.selectedPhotoCountMaxSelector),t=o.find(j.pageNumberSelector),u=o.find(j.pageNumberTotalSelector),v=o.find(j.pagePrevSelector),w=o.find(j.pageNextSelector),$backToAlbums=o.find(j.buttonBackToAlbumsSelector),x=o.find(j.buttonCloseSelector),y=o.find(j.buttonOKSelector),z=o.find(j.buttonCancelSelector),$loader=o.find(j.loader),$pagination=o.find(j.pagination)},d=function(a){var b;if(a&&0!==a.length){a=Array.prototype.slice.call(a),a=a.sort(E),k=[];for(var b=0;b<a.length;b++)a[b].count&&(k[k.length]=a[b])}},e=function(){return k},h=function(a){a&&0!==a.length&&(a=Array.prototype.slice.call(a),l=a)},getPhotos=function(){return l},f=function(a){var b,c;for(a=a.toString(),b=0,c=k.length;c>b;b+=1)if(k[b].id===a)return k[b];return null},g=function(a){var b,c;for(a=a.toString(),b=0,c=l.length;c>b;b+=1)if(l[b].id===a)return l[b];return null},i=function(a){var c,d,e,f,g,h,i,E,G,H,I,J,K,L,M,N,O=[],P=[],Q=[];return j?(G={maxSelection:1,albumsPerPage:6,photosPerPage:10,autoDeselection:!1,callbackAlbumSelected:null,callbackAlbumUnselected:null,callbackPhotoSelected:null,callbackPhotoUnselected:null,callbackMaxSelection:null,callbackSubmit:null},b.extend(G,a),c=function(a,d){var e,f;if(F("CSPhotoSelector - show Albums"),!m)return C(a,function(){c(a,d)});for(H(),m.removeClass(j.albumSelectedClass+" "+j.albumDisabledClass+" "+j.photoFilteredClass),e=0,f=k.length;f>e;e+=1)-1!==b.inArray(k[e].id,O)&&b(m[e]).addClass(j.albumSelectedClass),-1!==b.inArray(k[e].id,Q)&&b(m[e]).addClass(j.albumDisabledClass);J(1),L(1),o.fadeIn(100),"function"==typeof d&&d()},d=function(a,c){var e,f;if(F("CSPhotoSelector - show Photos"),$loader.show(),!n||c)return D(function(){d(a)},c);for(n.removeClass(j.albumSelectedClass+" "+j.albumDisabledClass+" "+j.photoFilteredClass),e=0,f=l.length;f>e;e+=1)-1!==b.inArray(l[e].id,P)&&b(n[e]).addClass(j.albumSelectedClass),-1!==b.inArray(l[e].id,Q)&&b(n[e]).addClass(j.albumDisabledClass);r.html(P.length),s.html(G.maxSelection),K(1),o.fadeIn(100),"function"==typeof a&&a()},e=function(){$photosWrapper.removeClass("CSPhoto_container_active")},f=function(){I(),o.fadeOut(100)},g=function(){return O},h=function(){return P},i=function(a){Q=a},E=function(){k&&0!==k.length&&($photosWrapper.removeClass("CSPhoto_container_active"),y.hide(),p.empty(),q.empty(),O=[],P=[],m=null,r.html("0"),Q=[],L(1))},H=function(){x.bind("click",function(a){a.preventDefault(),f()}),z.bind("click",function(a){a.preventDefault(),f()}),y.bind("click",function(a){a.preventDefault(),f(),"function"==typeof G.callbackSubmit&&G.callbackSubmit(P)}),$backToAlbums.bind("click",function(a){a.preventDefault(),$pagination.show(),y.hide(),e()}),v.bind("click",function(a){var b=parseInt(t.text(),10)-1;a.preventDefault(),1>b||(J(b),L(b))}),w.bind("click",function(a){var c=parseInt(t.text(),10)+1;a.preventDefault(),b(this).hasClass(j.disabledClass)||(J(c),L(c))}),b(window).bind("keydown",function(a){27===a.which&&(a.preventDefault(),a.stopPropagation(),f())})},I=function(){x.unbind("click"),y.unbind("click"),z.unbind("click"),p.children().unbind("click"),q.children().unbind("click"),v.unbind("click"),w.unbind("click"),b(window).unbind("keydown")},J=function(a){var c,d;c=(a-1)*G.albumsPerPage,d=a*G.albumsPerPage,p.html(m.not("."+j.photoFilteredClass).slice(c,d)),p.children().bind("click",function(a){a.preventDefault(),M(b(this))})},K=function(a){var c,d;c=(a-1)*G.photosPerPage,d=a*G.photosPerPage,q.html(n.not("."+j.photoFilteredClass).slice(c,d)),q.children().bind("click",function(a){a.preventDefault(),N(b(this))})},L=function(a){var b=Math.ceil(k.length/G.albumsPerPage);t.html(a),u.html(b),1===a||1===b?v.addClass(j.disabledClass):v.removeClass(j.disabledClass),a===b||1===b?w.addClass(j.disabledClass):w.removeClass(j.disabledClass)},M=function(a){var c,d,e,f;if(c=a.attr("data-id"),!a.hasClass(j.albumDisabledClass)){if(a.hasClass(j.albumSelectedClass)){for(d=0,e=O.length;e>d;d+=1)if(O[d]===c)return O.splice(d,1),a.removeClass(j.albumSelectedClass),r.html(O.length),"function"==typeof G.callbackAlbumUnselected&&G.callbackAlbumUnselected(c),!1}else G.autoDeselection&&O.length===G.maxSelection&&(f=O.splice(0,1),A(f).removeClass(j.albumSelectedClass),r.html(O.length)),O.length<G.maxSelection&&(-1===b.inArray(c,O)?(O.push(c),a.addClass(j.albumSelectedClass),r.html(O.length),F("CSPhotoSelector - newInstance - selectAlbum - selected IDs: ",O),"function"==typeof G.callbackAlbumSelected&&G.callbackAlbumSelected(c)):F("CSPhotoSelector - newInstance - selectAlbum - ID already stored"));O.length===G.maxSelection&&"function"==typeof G.callbackMaxSelection&&G.callbackMaxSelection()}},N=function(a){var c,d,e,f;if(c=a.attr("data-id"),!a.hasClass(j.albumDisabledClass)){if(a.hasClass(j.albumSelectedClass)){for(d=0,e=P.length;e>d;d+=1)if(P[d]===c)return P.splice(d,1),a.removeClass(j.albumSelectedClass),r.html(P.length),"function"==typeof G.callbackPhotoUnselected&&G.callbackPhotoUnselected(c),!1}else G.autoDeselection&&P.length===G.maxSelection&&(f=P.splice(0,1),B(f).removeClass(j.albumSelectedClass),r.html(P.length)),P.length<G.maxSelection&&(-1===b.inArray(c,P)?(P.push(c),a.addClass(j.albumSelectedClass),r.html(P.length),F("CSPhotoSelector - newInstance - selectPhoto - selected IDs: ",P),"function"==typeof G.callbackPhotoSelected&&G.callbackPhotoSelected(c)):F("CSPhotoSelector - newInstance - selectPhoto - ID already stored"));P.length===G.maxSelection&&"function"==typeof G.callbackMaxSelection&&G.callbackMaxSelection()}},{showAlbumSelector:c,showPhotoSelector:d,hidePhotoSelector:e,hideAlbumSelector:f,getselectedAlbumIds:g,getselectedPhotoIds:h,setDisabledPhotoIds:i,reset:E}):(F("Cannot create a new instance of CSPhotoSelector because the plugin not initialised."),!1)},A=function(a){var c,d;for(a=a.toString(),c=0,d=k.length;d>c;c+=1)if(k[c].id===a)return b(m[c]);return b("")},B=function(a){var c,d;for(a=a.toString(),c=0,d=l.length;d>c;c+=1)if(l[c].id===a)return b(n[c]);return b("")},C=function(a,c){var e,f;return F("buildAlbumSelector"),$pagination.show(),FB?(FB.getLoginStatus(function(b){if("connected"!==b.status)return F("CSPhotoSelector - buildAlbumSelector - User is not logged in to Facebook"),!1;var f=b.authResponse.accessToken;FB.api("/"+a+"/albums",function(a){return a.data.length?(d(a.data),e(f),"function"==typeof c&&c(),void 0):(alert("Sorry, your friend won't let us look through their photos"),F("CSPhotoSelector - buildAlbumSelector - No albums returned"),!1)})}),e=function(a){var c,d,e="";for(c=0,d=k.length;d>c;c+=1)e+=f(k[c],a);m=b(e)},void(f=function(a,b){return'<a href="#" class="CSPhotoSelector_album" data-id="'+a.id+'"><div class="CSPhotoSelector_albumWrap"><div><img src="https://graph.facebook.com/'+a.id+"/picture?type=album&access_token="+b+'" alt="'+G(a.name)+'" class="CSPhotoSelector_photoAvatar" /></div></div><div class="CSPhotoSelector_photoName">'+G(a.name)+"</div></a>"})):(F("The Facebook SDK must be initialised before showing the photo selector"),!1)},D=function(a,c){var d,e;F("buildPhotoSelector"),l=[],FB.api("/"+c+"/photos?fields=id,picture,source,height,width,images&limit=500",function(b){return b.data?(h(b.data),d(),"function"==typeof a&&(a(),$loader.hide(),$pagination.hide(),$photosWrapper.addClass("CSPhoto_container_active")),void 0):(F("CSPhotoSelector - showPhotoSelector - No photos returned"),!1)}),d=function(){var a,d,f="";for(l||D(null,c),a=0,d=l.length;d>a;a+=1)f+=e(l[a]);n=b(f)},e=function(a){return'<a href="#" class="CSPhotoSelector_photo CSPhotoSelector_clearfix" data-id="'+a.id+'"><span><img src="'+a.picture+'" alt="" class="CSPhotoSelector_photoAvatar" /></span></a>'}},E=function(a,b){return a.upperCaseName===b.upperCaseName?0:a.upperCaseName>b.upperCaseName?1:a.upperCaseName<b.upperCaseName?-1:void 0},F=function(){j&&j.debug&&window.console&&console.log(Array.prototype.slice.call(arguments))},G=function(a){return a?String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""},a={init:c,setAlbums:d,getAlbums:e,getAlbumById:f,setPhotos:h,getPhotos:getPhotos,getPhotoById:g,newInstance:i}}(CSPhotoSelector||{},jQuery);